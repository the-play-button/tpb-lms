# 1.09 - Arborescence LMS

## 1. Structure EXISTANTE

```
04.Execution/lms/
├── docs/                    ✅
├── frontend/                ✅
│   ├── app/
│   │   ├── course/
│   │   ├── quiz/
│   │   ├── ui/
│   │   └── video/
│   └── components/
├── worker_api/              ❌ → backend/
│   ├── handlers/
│   ├── helpers/
│   └── projections/
├── tests/                   ❌ → scripts/tests/
├── schema.sql               ❌ → db/
├── deploy.sh                ❌ → scripts/devops/
├── *.py (scripts)           ❌ → scripts/
└── wrangler.toml            ✅ (config racine OK)
```

## 2. Structure CIBLE (IMPOSÉE TPB)

```
04.Execution/lms/
├── backend/                 # IMPOSÉ (ex worker_api/)
│   ├── handlers/
│   ├── helpers/
│   └── projections/
├── frontend/                # IMPOSÉ ✅
│   ├── app/
│   └── components/
├── db/                      # IMPOSÉ
│   └── schema.sql
├── docs/                    # IMPOSÉ ✅
└── scripts/                 # IMPOSÉ
    ├── tests/               # IMPOSÉ
    │   └── test_api.py
    └── devops/              # IMPOSÉ
        └── deploy.sh
```

## 3. Analyse GAP

| Dossier | IMPOSÉ | EXISTANT | GAP |
|---------|--------|----------|-----|
| `backend/` | ✅ | `worker_api/` | GAP-901 |
| `frontend/` | ✅ | ✅ | OK |
| `db/` | ✅ | ❌ | GAP-902 |
| `docs/` | ✅ | ✅ | OK |
| `scripts/` | ✅ | ❌ | GAP-903 |
| `scripts/tests/` | ✅ | `tests/` racine | GAP-904 |
| `scripts/devops/` | ✅ | ❌ | GAP-905 |

## 4. Fichiers à déplacer

| Fichier actuel | Destination cible |
|----------------|-------------------|
| `worker_api/` | `backend/` |
| `schema.sql` | `db/schema.sql` |
| `tests/` | `scripts/tests/` |
| `deploy.sh` | `scripts/devops/deploy.sh` |
| `manage_access.py` | `scripts/manage_access.py` |
| `parse_som.py` | `scripts/parse_som.py` |
| `reset_db.py` | `scripts/reset_db.py` |
| `sync_tally_quiz.py` | `scripts/sync_tally_quiz.py` |
| `tally_webhook.py` | `scripts/tally_webhook.py` |
| `upload_course.py` | `scripts/upload_course.py` |

## 5. GAPs

| ID | Description | Sévérité |
|----|-------------|----------|
| GAP-901 | Renommer `worker_api/` → `backend/` | P1 |
| GAP-902 | Créer `db/` et déplacer schema.sql | P1 |
| GAP-903 | Créer `scripts/` | P1 |
| GAP-904 | Déplacer `tests/` → `scripts/tests/` | P1 |
| GAP-905 | Créer `scripts/devops/` et déplacer deploy.sh | P1 |

*Note: Ces GAPs détaillent GAP-001 déjà identifié.*

---

*Créé le : 2024-12-28*

