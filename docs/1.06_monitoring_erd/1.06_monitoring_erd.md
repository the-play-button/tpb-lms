# 1.06 - Monitoring ERD LMS

## 1. Vues Existantes ✅

| Vue | Type | Usage |
|-----|------|-------|
| v_user_progress | Materialized | Progress vidéo/quiz par user/class |
| v_event_daily_stats | View | Events par jour/type |
| v_signal_summary | View | Comptage signals par user |
| v_leaderboard | View | Ranking XP + badges |
| v_user_activity | View | Last activity, events 24h |

## 2. Vues CIBLES (basées sur 1.01)

| Vue | Source GAP | Usage | Priorité |
|-----|------------|-------|----------|
| v_course_progress | GAP-105 | % complétion par user/course | P1 |
| v_course_mastery | GAP-108 | Agrégat mastery par cours | P1 |
| v_skill_mastery | GAP-107 | Progress 0→100% par skill | P1 |
| v_admin_overview | GAP-106 | Stats students pour admin | P1 |
| v_streak_history | GAP-111 | Historique streaks pour calendar | P2 |
| v_video_analytics | GAP-116 | Engagement, drop-off points | P2 |

## 3. KPIs Business

| KPI | Vue source | Formule |
|-----|------------|---------|
| Completion rate | v_course_progress | courses_completed / courses_started |
| Engagement rate | v_user_activity | users_active_7d / total_users |
| Avg. mastery | v_skill_mastery | AVG(mastery_pct) |
| Drop-off rate | v_video_analytics | videos_abandoned / videos_started |
| Streak avg | v_streak_history | AVG(current_streak) |

## 4. Entropy Reduction

### Formule d'entropie LMS

```
E_lms = E_orphans + E_stale + E_incomplete

E_orphans = COUNT(signals sans events source) / COUNT(signals)
E_stale = COUNT(users sans activity 30d) / COUNT(users)
E_incomplete = COUNT(courses started never finished) / COUNT(courses started)
```

### Vues entropy

| Vue | Mesure |
|-----|--------|
| v_orphan_signals | Signals sans event_id valide |
| v_stale_users | Users inactifs > 30j |
| v_abandoned_courses | Cours démarrés jamais finis |

### Seuils alertes

| Métrique | Warning | Critical |
|----------|---------|----------|
| E_orphans | > 1% | > 5% |
| E_stale | > 30% | > 50% |
| E_incomplete | > 40% | > 60% |

## 5. GAPs

| ID | Existant | Cible | Sévérité |
|----|----------|-------|----------|
| GAP-601 | ❌ | v_course_progress | P1 |
| GAP-602 | ❌ | v_course_mastery | P1 |
| GAP-603 | ❌ | v_skill_mastery | P1 |
| GAP-604 | ❌ | v_admin_overview | P1 |
| GAP-605 | ❌ | v_streak_history | P2 |
| GAP-606 | ❌ | v_video_analytics | P2 |
| GAP-607 | ❌ | v_orphan_signals (entropy) | P3 |
| GAP-608 | ❌ | v_stale_users (entropy) | P3 |
| GAP-609 | ❌ | v_abandoned_courses (entropy) | P3 |

---

*Créé le : 2024-12-28*

